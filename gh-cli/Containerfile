# Minimal GitHub CLI image for automation tasks
FROM alpine:3.21

LABEL description="Minimal Alpine image with GitHub CLI for automation tasks"
LABEL org.opencontainers.image.source="https://github.com/makeitworkcloud/images"

# hadolint ignore=DL3018
RUN apk add --no-cache \
    github-cli \
    bash \
    && rm -rf /var/cache/apk/*

# Run as non-root by default
RUN adduser -D -u 1000 gh
USER gh
WORKDIR /home/gh

ENTRYPOINT ["/bin/bash"]
